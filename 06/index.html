
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../img/logo_icon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1">
    
    
      
        <title>Svetelný senzor - RLLR</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.69437709.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#svetelny-senzor" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="RLLR" class="md-header__button md-logo" aria-label="RLLR" data-md-component="logo">
      
  <img src="../img/logo_head.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            RLLR
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Svetelný senzor
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="RLLR" class="md-nav__button md-logo" aria-label="RLLR" data-md-component="logo">
      
  <img src="../img/logo_head.png" alt="logo">

    </a>
    RLLR
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../01/" class="md-nav__link">
        Úvod do Pythonu
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../02/" class="md-nav__link">
        Python: vstup, riadiace štruktúry, zoznam
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../03/" class="md-nav__link">
        Python: funkcie, range, vlastná hra
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../04/" class="md-nav__link">
        Prvý robot
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../05/" class="md-nav__link">
        Presnejší pohyb a dotykový senzor
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Svetelný senzor
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Svetelný senzor
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ako-funguje-svetelny-senzor" class="md-nav__link">
    Ako funguje svetelný senzor?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ako-svetelny-senzor-pouzijeme-v-programe" class="md-nav__link">
    Ako svetelný senzor použijeme v programe?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cervena-stat" class="md-nav__link">
    Červená, stáť!
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ako-funguje-svetelny-senzor" class="md-nav__link">
    Ako funguje svetelný senzor?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ako-svetelny-senzor-pouzijeme-v-programe" class="md-nav__link">
    Ako svetelný senzor použijeme v programe?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cervena-stat" class="md-nav__link">
    Červená, stáť!
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="svetelny-senzor">Svetelný senzor</h1>
<p>Dnes si ukážeme ďalší senzor, pomocou ktorého budeme vedieť rozlišovať farby
predmetov a zisťovať intenzitu svetla. Aby sme si ho prakticky vyskúšali,
vymeníme dotykový senzor z minulej lekcie za svetelný senzor, ktorý bude otočený
smerom do zeme a umiestnený na prednej strane robota v strede, asi 1.5 cm
od zeme (spodná časť senzoru). Tentokrát to skúste bez návodu :)</p>
<p><img alt="svetelný senzor" src="../img/L6_color_sensor.png" style="width:30%;height:auto" /></p>
<h2 id="ako-funguje-svetelny-senzor">Ako funguje svetelný senzor?</h2>
<p>Tento senzor má v sebe tri svetelné diódy: červenú, zelenú a modrú. Sú to tri
základné farby v počítačovej grafike, ktorých miešaním vieme vytvoriť ostatné
farby. A senzor tiež obsahuje svetelný prijímač, ktorý zistí intenzitu
dopadajúceho svetla. Ak chceme rozlíšiť farbu predmetu pred senzorom, krátko
sa rozsvieti každá z troch svetelných diód a zmeria sa odrazené svetlo. Tieto
hodnoty sa potom dajú dokopy a senzor výsledok vyhodnotí ako jednu zo
7 farieb: čierna, modrá, zelená, žltá, červená, biela a hnedá. Alebo "žiadna"
farba, ak napr. pred senzorom žiaden objekt v blízkosti nie je, len vzduch.</p>
<h2 id="ako-svetelny-senzor-pouzijeme-v-programe">Ako svetelný senzor použijeme v programe?</h2>
<p>V moduli <code>ev3devices</code> existuje trieda <code>ColorSensor</code>. Na objektoch tejto triedy
budeme volať metódy:</p>
<ul>
<li><code>color</code>: vráti farbu objektu <code>Color.BLACK</code>, <code>Color.BLUE</code>, ..., alebo <code>None</code>
  pre žiadnu farbu (<code>Color</code> pochádza z modulu <code>parameters</code>).</li>
<li><code>ambient</code>: vráti intenzitu (číslo medzi 0 a 100) svetla z okolia.</li>
<li><code>reflection</code>: ako <code>ambient</code>, ale pre odrazené svetlo, to znamená, že senzor
  krátko zasvieti a zmeria intentzitu až potom.</li>
<li><code>rgb</code>: vráti intenzitu každej zložky svetla, červenej (<em>r</em>ed), zelenej
  (<em>g</em>reen) a modrej (<em>b</em>lue) ako <em>n-ticu</em> (<em>tuple</em>).</li>
</ul>
<details class="note" open="open">
<summary><em>tuple</em></summary>
<p><em>tuple</em> je nový dátový tip, s ktorým sme sa ešte nestretli. Je podobný
zoznamu, až na to, že sa nedá meniť. Namiesto hranatých zátvoriek sa
zapisuje pomocou okrúhlych. Je užitočný ak viacero hodnôt patrí úzko
ku sebe.
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="mi">1</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="ne">TypeError</span><span class="p">:</span> <span class="s1">&#39;tuple&#39;</span> <span class="nb">object</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">support</span> <span class="n">item</span> <span class="n">assignment</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">+=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span> <span class="c1"># &quot;t&quot; sa nezmení, ale vznikne nový objekt a pomenuje sa &quot;t&quot;</span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">t</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</code></pre></div></p>
</details>
<div class="admonition example">
<p class="admonition-title">Príklad</p>
<p>Naprogramujeme si robota tak, aby chodil po čiernej čiare. Predstavme si,
že všade okolo je biela zem a len jedna kľukatá čierna čiara, hrubá asi
1.5 cm. Ak robota postavíme na začiatok čiary tak, aby svetelný senzor
snímal pravý okraj čiary a pustíme ho rovno vpred, bude sa môcť riadiť ďalej
týmito pravidlami:</p>
<ol>
<li>Nasníma nižšiu intenzitu svetla -- to znamená, že je na zákrute vpravo,
   senzor sa dostal z okraju čiary viac do stredu a preto "vidí" viac
   čiernej farby (teda menej intenzity svetla).</li>
<li>Naopak, keď nasníma vyššiu intenzitu sveta, tak čiara musí byť naľavo,
   robot sa dostal od čiary preč, na bielu plochu okolo.</li>
</ol>
<p>Poďla toho sa pootočí na stranu, kde pokračuje čiara.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-1-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-1-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-1-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-1-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-1-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-1-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-1-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span>
<span class="normal"><a href="#__codelineno-1-17">17</a></span>
<span class="normal"><a href="#__codelineno-1-18">18</a></span>
<span class="normal"><a href="#__codelineno-1-19">19</a></span>
<span class="normal"><a href="#__codelineno-1-20">20</a></span>
<span class="normal"><a href="#__codelineno-1-21">21</a></span>
<span class="normal"><a href="#__codelineno-1-22">22</a></span>
<span class="normal"><a href="#__codelineno-1-23">23</a></span>
<span class="normal"><a href="#__codelineno-1-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1"></a><span class="kn">from</span> <span class="nn">pybricks.ev3devices</span> <span class="kn">import</span> <span class="n">Motor</span><span class="p">,</span> <span class="n">ColorSensor</span>
<a id="__codelineno-1-2" name="__codelineno-1-2"></a><span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span>
<a id="__codelineno-1-3" name="__codelineno-1-3"></a><span class="kn">from</span> <span class="nn">pybricks.tools</span> <span class="kn">import</span> <span class="n">wait</span>
<a id="__codelineno-1-4" name="__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5"></a><span class="n">left_motor</span> <span class="o">=</span> <span class="n">Motor</span><span class="p">(</span> <span class="n">Port</span><span class="o">.</span><span class="n">B</span> <span class="p">)</span>
<a id="__codelineno-1-6" name="__codelineno-1-6"></a><span class="n">right_motor</span> <span class="o">=</span> <span class="n">Motor</span><span class="p">(</span> <span class="n">Port</span><span class="o">.</span><span class="n">A</span> <span class="p">)</span>
<a id="__codelineno-1-7" name="__codelineno-1-7"></a><span class="n">color_sensor</span> <span class="o">=</span> <span class="n">ColorSensor</span><span class="p">(</span> <span class="n">Port</span><span class="o">.</span><span class="n">S1</span> <span class="p">)</span>
<a id="__codelineno-1-8" name="__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9"></a><span class="k">def</span> <span class="nf">move</span><span class="p">(</span> <span class="n">speed_left</span><span class="p">,</span> <span class="n">speed_right</span> <span class="p">):</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>    <span class="n">left_motor</span><span class="o">.</span><span class="n">run</span><span class="p">(</span> <span class="n">speed_left</span> <span class="p">)</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>    <span class="n">right_motor</span><span class="o">.</span><span class="n">run</span><span class="p">(</span> <span class="n">speed_right</span> <span class="p">)</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a><span class="n">WHITE</span> <span class="o">=</span> <span class="mi">60</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a><span class="n">BLACK</span> <span class="o">=</span> <span class="mi">40</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-1-17" name="__codelineno-1-17"></a>    <span class="n">intensity</span> <span class="o">=</span> <span class="n">color_sensor</span><span class="o">.</span><span class="n">reflection</span><span class="p">()</span>
<a id="__codelineno-1-18" name="__codelineno-1-18"></a>
<a id="__codelineno-1-19" name="__codelineno-1-19"></a>    <span class="k">if</span> <span class="n">intensity</span> <span class="o">&gt;</span> <span class="n">WHITE</span><span class="p">:</span>
<a id="__codelineno-1-20" name="__codelineno-1-20"></a>        <span class="n">move</span><span class="p">(</span> <span class="o">-</span><span class="mi">180</span><span class="p">,</span> <span class="mi">180</span> <span class="p">)</span>
<a id="__codelineno-1-21" name="__codelineno-1-21"></a>    <span class="k">elif</span> <span class="n">intensity</span> <span class="o">&lt;</span> <span class="n">BLACK</span><span class="p">:</span>
<a id="__codelineno-1-22" name="__codelineno-1-22"></a>        <span class="n">move</span><span class="p">(</span> <span class="mi">180</span><span class="p">,</span> <span class="o">-</span><span class="mi">180</span> <span class="p">)</span>
<a id="__codelineno-1-23" name="__codelineno-1-23"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-1-24" name="__codelineno-1-24"></a>        <span class="n">move</span><span class="p">(</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">360</span> <span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>Číselné hodnoty v kóde sú závislé na konkrétnom prostredí, kde púšťame
robota. Je vhodné si najprv zistiť, akú intenzitu svetla robot vníma
na bielej a čiernej čiare a podľa toho nastaviť <code>WHITE</code> a <code>BLACK</code> tak, aby
<code>WHITE</code> bola hodnota, keď sa robot dostane kúsok mimo čiary, a <code>BLACK</code>
keď sa robot (svetelný senzor na ňom) dostane príliš dovnútra čiernej
čiary. Nastaviť dobré hodnoty môže chvíľu trvať.</p>
</div>
<details class="question" open="open">
<summary>Úloha 1</summary>
<p>Pripravte si dráhu, na ktorej budete robota chodiaceho po čiare testovať.
Mohli by stačiť veľké biele papere a čierna elektroizolačná páska.
Nastavte hodnoty v programe tak, aby robot zvládol po čiare prejsť.</p>
</details>
<details class="question" open="open">
<summary>Úloha 2</summary>
<p>Upravte program tak, aby robot mohol začínať na ľavej a nie pravej strane
čiary. Teda nebude sledovať pravý okraj, ale ľavý.</p>
</details>
<details class="question" open="open">
<summary>Úloha 3</summary>
<p>Toto je ťažká úloha. Ale dá sa vyriešiť a človekovi uľahčí prácu --
automatické nastavenie hodnôt <code>BLACK</code> a <code>WHITE</code>. Robota bude stačiť
na začiatku postaviť na čiaru, otočeného tak, aby svetelný senzor bol
nad bielou plochou. Robot nasníma hodnotu bielej farby a pomaly sa bude
otáčať na mieste a sledovať stále intenzitu svetla. Keď nadíde na čiernu
čiaru, intenzita sa zníži, robot si zapamätá jej minimum, lebo potom
sa znovu začne zvyšovať, robot prejde cez stred čiary a otáča sa ďalej.
Pomocou týchto dvoch hodnôt sa potom určia hodnoty <code>BLACK</code> a <code>WHITE</code>.
(Vlastne, už by sme ich nemali písať veľkými písmenami, lebo to nebudú
konštanty.) Ale pozor, nemôžeme ich jednoducho nastaviť na práve tú nameranú
hodnotu, to by nefungovalo (prečo?).</p>
</details>
<details class="example">
<summary>Riešenie úlohy 3</summary>
<p><div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-2-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-2-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-2-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-2-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-2-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-2-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-2-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-2-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-2-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-2-10">10</a></span>
<span class="normal"><a href="#__codelineno-2-11">11</a></span>
<span class="normal"><a href="#__codelineno-2-12">12</a></span>
<span class="normal"><a href="#__codelineno-2-13">13</a></span>
<span class="normal"><a href="#__codelineno-2-14">14</a></span>
<span class="normal"><a href="#__codelineno-2-15">15</a></span>
<span class="normal"><a href="#__codelineno-2-16">16</a></span>
<span class="normal"><a href="#__codelineno-2-17">17</a></span>
<span class="normal"><a href="#__codelineno-2-18">18</a></span>
<span class="normal"><a href="#__codelineno-2-19">19</a></span>
<span class="normal"><a href="#__codelineno-2-20">20</a></span>
<span class="normal"><a href="#__codelineno-2-21">21</a></span>
<span class="normal"><a href="#__codelineno-2-22">22</a></span>
<span class="normal"><a href="#__codelineno-2-23">23</a></span>
<span class="normal"><a href="#__codelineno-2-24">24</a></span>
<span class="normal"><a href="#__codelineno-2-25">25</a></span>
<span class="normal"><a href="#__codelineno-2-26">26</a></span>
<span class="normal"><a href="#__codelineno-2-27">27</a></span>
<span class="normal"><a href="#__codelineno-2-28">28</a></span>
<span class="normal"><a href="#__codelineno-2-29">29</a></span>
<span class="normal"><a href="#__codelineno-2-30">30</a></span>
<span class="normal"><a href="#__codelineno-2-31">31</a></span>
<span class="normal"><a href="#__codelineno-2-32">32</a></span>
<span class="normal"><a href="#__codelineno-2-33">33</a></span>
<span class="normal"><a href="#__codelineno-2-34">34</a></span>
<span class="normal"><a href="#__codelineno-2-35">35</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1"></a><span class="kn">from</span> <span class="nn">pybricks.ev3devices</span> <span class="kn">import</span> <span class="n">Motor</span><span class="p">,</span> <span class="n">ColorSensor</span>
<a id="__codelineno-2-2" name="__codelineno-2-2"></a><span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span>
<a id="__codelineno-2-3" name="__codelineno-2-3"></a><span class="kn">from</span> <span class="nn">pybricks.tools</span> <span class="kn">import</span> <span class="n">wait</span>
<a id="__codelineno-2-4" name="__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5"></a><span class="n">left_motor</span> <span class="o">=</span> <span class="n">Motor</span><span class="p">(</span> <span class="n">Port</span><span class="o">.</span><span class="n">B</span> <span class="p">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6"></a><span class="n">right_motor</span> <span class="o">=</span> <span class="n">Motor</span><span class="p">(</span> <span class="n">Port</span><span class="o">.</span><span class="n">A</span> <span class="p">)</span>
<a id="__codelineno-2-7" name="__codelineno-2-7"></a><span class="n">color_sensor</span> <span class="o">=</span> <span class="n">ColorSensor</span><span class="p">(</span> <span class="n">Port</span><span class="o">.</span><span class="n">S1</span> <span class="p">)</span>
<a id="__codelineno-2-8" name="__codelineno-2-8"></a>
<a id="__codelineno-2-9" name="__codelineno-2-9"></a><span class="k">def</span> <span class="nf">move</span><span class="p">(</span> <span class="n">speed_left</span><span class="p">,</span> <span class="n">speed_right</span> <span class="p">):</span>
<a id="__codelineno-2-10" name="__codelineno-2-10"></a>    <span class="n">left_motor</span><span class="o">.</span><span class="n">run</span><span class="p">(</span> <span class="n">speed_left</span> <span class="p">)</span>
<a id="__codelineno-2-11" name="__codelineno-2-11"></a>    <span class="n">right_motor</span><span class="o">.</span><span class="n">run</span><span class="p">(</span> <span class="n">speed_right</span> <span class="p">)</span>
<a id="__codelineno-2-12" name="__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13"></a><span class="n">white</span> <span class="o">=</span> <span class="n">color_sensor</span><span class="o">.</span><span class="n">reflection</span><span class="p">()</span>
<a id="__codelineno-2-14" name="__codelineno-2-14"></a>
<a id="__codelineno-2-15" name="__codelineno-2-15"></a><span class="n">move</span><span class="p">(</span> <span class="o">-</span><span class="mi">90</span><span class="p">,</span> <span class="mi">90</span> <span class="p">)</span>
<a id="__codelineno-2-16" name="__codelineno-2-16"></a><span class="n">last_intensity</span> <span class="o">=</span> <span class="n">color_sensor</span><span class="o">.</span><span class="n">reflection</span><span class="p">()</span>
<a id="__codelineno-2-17" name="__codelineno-2-17"></a><span class="n">decreasing</span> <span class="o">=</span> <span class="kc">True</span>
<a id="__codelineno-2-18" name="__codelineno-2-18"></a><span class="k">while</span> <span class="n">decreasing</span><span class="p">:</span>
<a id="__codelineno-2-19" name="__codelineno-2-19"></a>    <span class="n">new_intensity</span> <span class="o">=</span> <span class="n">color_sensor</span><span class="o">.</span><span class="n">reflection</span><span class="p">()</span>
<a id="__codelineno-2-20" name="__codelineno-2-20"></a>    <span class="k">if</span> <span class="n">new_intensity</span> <span class="o">&gt;</span> <span class="n">last_intensity</span><span class="p">:</span>
<a id="__codelineno-2-21" name="__codelineno-2-21"></a>        <span class="n">decreasing</span> <span class="o">=</span> <span class="kc">False</span>
<a id="__codelineno-2-22" name="__codelineno-2-22"></a>    <span class="n">last_intensity</span> <span class="o">=</span> <span class="n">new_intensity</span>
<a id="__codelineno-2-23" name="__codelineno-2-23"></a><span class="n">move</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
<a id="__codelineno-2-24" name="__codelineno-2-24"></a>
<a id="__codelineno-2-25" name="__codelineno-2-25"></a><span class="n">black</span> <span class="o">=</span> <span class="n">color_sensor</span><span class="o">.</span><span class="n">reflection</span><span class="p">()</span>
<a id="__codelineno-2-26" name="__codelineno-2-26"></a>
<a id="__codelineno-2-27" name="__codelineno-2-27"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-2-28" name="__codelineno-2-28"></a>    <span class="n">intensity</span> <span class="o">=</span> <span class="n">color_sensor</span><span class="o">.</span><span class="n">reflection</span><span class="p">()</span>
<a id="__codelineno-2-29" name="__codelineno-2-29"></a>
<a id="__codelineno-2-30" name="__codelineno-2-30"></a>    <span class="k">if</span> <span class="n">intensity</span> <span class="o">&gt;</span> <span class="n">white</span><span class="p">:</span>
<a id="__codelineno-2-31" name="__codelineno-2-31"></a>        <span class="n">move</span><span class="p">(</span> <span class="o">-</span><span class="mi">180</span><span class="p">,</span> <span class="mi">180</span> <span class="p">)</span>
<a id="__codelineno-2-32" name="__codelineno-2-32"></a>    <span class="k">elif</span> <span class="n">intensity</span> <span class="o">&lt;</span> <span class="n">black</span><span class="p">:</span>
<a id="__codelineno-2-33" name="__codelineno-2-33"></a>        <span class="n">move</span><span class="p">(</span> <span class="mi">180</span><span class="p">,</span> <span class="o">-</span><span class="mi">180</span> <span class="p">)</span>
<a id="__codelineno-2-34" name="__codelineno-2-34"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-2-35" name="__codelineno-2-35"></a>        <span class="n">move</span><span class="p">(</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">360</span> <span class="p">)</span>
</code></pre></div></td></tr></table></div>
V tomto programe sa robot začne otáčať vľavo a v každom opakovaní <code>while</code>
cyklu načíta intenzitu odrazeného svetla. Ak je už vyššia ako tá
predošlá, znamená to, že je niekde blízko stredu čiary, kúsok za stredom,
a vtedy zastaví.</p>
</details>
<h2 id="cervena-stat">Červená, stáť!</h2>
<p>Ako sme už hovorili, svetelný senzor dokáže viac než len odmerať intenzitu
dopadajúceho svetla. Vie odlíšiť aj niekoľko bežných farieb. My si teraz
vylepšíme našeho robota, aby zastavil na červenej značke. Len upravíme náš
už existujúci program -- jeho nekonečný <code>while</code> cyklus:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span>
<span class="normal"><a href="#__codelineno-3-19">19</a></span>
<span class="normal"><a href="#__codelineno-3-20">20</a></span>
<span class="normal"><a href="#__codelineno-3-21">21</a></span>
<span class="normal"><a href="#__codelineno-3-22">22</a></span>
<span class="normal"><a href="#__codelineno-3-23">23</a></span>
<span class="normal"><a href="#__codelineno-3-24">24</a></span>
<span class="normal"><a href="#__codelineno-3-25">25</a></span>
<span class="normal"><a href="#__codelineno-3-26">26</a></span>
<span class="normal"><a href="#__codelineno-3-27">27</a></span>
<span class="normal"><a href="#__codelineno-3-28">28</a></span>
<span class="normal"><a href="#__codelineno-3-29">29</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-16" name="__codelineno-3-16"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a>    <span class="k">if</span> <span class="n">color_sensor</span><span class="o">.</span><span class="n">color</span><span class="p">()</span> <span class="o">==</span> <span class="n">Color</span><span class="o">.</span><span class="n">RED</span>
<a id="__codelineno-3-18" name="__codelineno-3-18"></a>        <span class="k">break</span>
<a id="__codelineno-3-19" name="__codelineno-3-19"></a>
<a id="__codelineno-3-20" name="__codelineno-3-20"></a>    <span class="n">intensity</span> <span class="o">=</span> <span class="n">color_sensor</span><span class="o">.</span><span class="n">reflection</span><span class="p">()</span>
<a id="__codelineno-3-21" name="__codelineno-3-21"></a>
<a id="__codelineno-3-22" name="__codelineno-3-22"></a>    <span class="k">if</span> <span class="n">intensity</span> <span class="o">&gt;</span> <span class="n">white</span><span class="p">:</span>
<a id="__codelineno-3-23" name="__codelineno-3-23"></a>        <span class="n">move</span><span class="p">(</span> <span class="o">-</span><span class="mi">180</span><span class="p">,</span> <span class="mi">180</span> <span class="p">)</span>
<a id="__codelineno-3-24" name="__codelineno-3-24"></a>    <span class="k">elif</span> <span class="n">intensity</span> <span class="o">&lt;</span> <span class="n">black</span><span class="p">:</span>
<a id="__codelineno-3-25" name="__codelineno-3-25"></a>        <span class="n">move</span><span class="p">(</span> <span class="mi">180</span><span class="p">,</span> <span class="o">-</span><span class="mi">180</span> <span class="p">)</span>
<a id="__codelineno-3-26" name="__codelineno-3-26"></a>    <span class="k">else</span><span class="p">:</span>
<a id="__codelineno-3-27" name="__codelineno-3-27"></a>        <span class="n">move</span><span class="p">(</span> <span class="mi">360</span><span class="p">,</span> <span class="mi">360</span> <span class="p">)</span>
<a id="__codelineno-3-28" name="__codelineno-3-28"></a>
<a id="__codelineno-3-29" name="__codelineno-3-29"></a><span class="n">move</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span>
</code></pre></div></td></tr></table></div>
<p>Hneď na začiatku každého opakovania robot vyskúša, či nabehol na červenú značku,
ak áno, cez <code>break</code> "vyskočí" von z nekonečného cyklu a pokračuje za ním, teda
na riadku s <code class="highlight"><span class="n">move</span><span class="p">(</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span> <span class="p">)</span></code>. Ešte potrebujeme naimportovať triedu <code>Color</code>,
ktorú sme doteraz nevyužívali:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-4-2">2</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-4-2" name="__codelineno-4-2"></a><span class="kn">from</span> <span class="nn">pybricks.parameters</span> <span class="kn">import</span> <span class="n">Port</span><span class="p">,</span> <span class="n">Color</span>
</code></pre></div></td></tr></table></div>
<p>Vyskúšajte, či program funguje :)</p>
<details class="question" open="open">
<summary>Úloha 1</summary>
<p>Použite ďalšiu značku, napr. modrú, na ktorú keď robot nadíde, otočí sa
na mieste a bude pokračovať po čiare naspäť, z kade prišiel.</p>
</details>
<details class="question" open="open">
<summary>Úloha 2</summary>
<p>Upravte svoju trénovaciu plochu s čiarou tak, aby na niektorých miestach
bola čiara prerušená. Pridajte robotovi aj druhý svetelný senzor,
tentokrát si bude udržovať čiernu čiaru medzi dvomi senzormi. Nedávajte ich
teda od seba veľmi ďaleko. Výhoda použitia dvoch senzorov je, že robot
dokáže sledovať cestu aj s vynechanými úsekmi čiary. Logiku programu budete
musieť ale úplne zmeniť.</p>
</details>




              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../05/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Presnejší pohyb a dotykový senzor" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Presnejší pohyb a dotykový senzor
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.ecf98df9.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.9c69f0bc.min.js"></script>
      
    
  </body>
</html>